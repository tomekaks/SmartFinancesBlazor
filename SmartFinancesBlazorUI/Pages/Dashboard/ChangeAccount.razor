@page "/dashboard/changeaccount"
@inject NavigationManager NavigationManager

<h3>Change account</h3>

<div>
    <div>
        <table class="table">
            <thead>
                <tr>
                    <th>Number</th>
                    <th>Balance</th>
                    <th></th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in model.Accounts)
                {
                    <tr>
                        <td>@item.Number</td>
                        <td>@item.Balance</td>
                        <td>
                            <form asp-action="AddRegularExpense" asp-route-id="@item.Id">
                                <button type="submit" onclick="return confirm('Do you want to add this expense?')" class="btn btn-success">Add</button>
                            </form>
                        </td>
                        <td>
                            <form asp-action="DeleteRegularExpense" asp-route-id="@item.Id">
                                <button type="submit" onclick="return confirm('Are you sure you want to delete this?')" class="btn btn-danger">Delete</button>
                            </form>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

<div>
    <button class="btn btn-primary" @onclick="NavigateToDashboard">Back to Dashboard</button>
</div>

@code {
    private ChangeAccountVM model = new ChangeAccountVM();

    protected override void OnInitialized()
    {
        base.OnInitialized();
        
    }

    private void NavigateToDashboard()
    {
        NavigationManager.NavigateTo("/dashboard");
    }
}
